

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C++ 简介 &mdash; Cpp  文档</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/style.css?v=3491b469" />

  
    <link rel="canonical" href="https://self-contained.github.io/Cpp/Intro.html"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=7d86a446"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
      <script src="_static/translations.js?v=beaddf03"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="变量基础" href="Variables.html" />
    <link rel="prev" title="安装 C++ 环境" href="Install.html" />
 

<!-- <link rel="stylesheet" type="text/css" href="_config/static/DataTables/datatables.min.css"/> -->

<meta name="google-site-verification" content="ZsXR1o8suFFOr_MSgo5BTvjbznAuEP6XYOmgMiBu5Yw" />
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-90643174-3']);
  _gaq.push(['_trackPageview']);
</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >


          
          
          <a href="index.html" class="icon icon-home">
            Cpp
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<div class="home-button">
   <a class="home-button" href="https://github.com/wklchris/blog">
      仓库
   </a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="home-button" href="/blog/">
      博客主页
   </a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="home-button" href="/">
      关于我
   </a>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">目录</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="QuickRef.html">速查：C++ 语法</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install.html">安装 C++ 环境</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">C++ 简介</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hello-world">编译：Hello world</a></li>
<li class="toctree-l2"><a class="reference internal" href="#io">输入输出（IO）流</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using">using 声明</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ub">未定义行为（UB）</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Variables.html">变量基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="DataTypes.html">常用数据类型</a></li>
<li class="toctree-l1"><a class="reference internal" href="DataTypesAdvance.html">数据类型进阶</a></li>
<li class="toctree-l1"><a class="reference internal" href="TypeConversion.html">类型转换与溢出*</a></li>
<li class="toctree-l1"><a class="reference internal" href="PointerAndRef.html">引用与指针</a></li>
<li class="toctree-l1"><a class="reference internal" href="Control.html">控制流语句</a></li>
<li class="toctree-l1"><a class="reference internal" href="CMake.html">附录1：CMake 工具</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cpp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">C++ 简介</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Intro.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="caution admonition">
<p class="admonition-title">施工提示</p>
<p>本博文尚在施工中，内容并未完成且可能变更。</p>
</div>
<section id="c">
<h1>C++ 简介<a class="headerlink" href="#c" title="Link to this heading"></a></h1>
<p>本章介绍 C++ 的基础使用，包括编译与语法介绍。</p>
<section id="hello-world">
<h2>编译：Hello world<a class="headerlink" href="#hello-world" title="Link to this heading"></a></h2>
<div class="tip admonition">
<p class="admonition-title">安装编译器</p>
<p>C++ 有众多的编译器可以选用，我个人习惯使用 gcc/g++ 编译器。</p>
<ul>
<li><p><a class="reference external" href="https://www.mingw-w64.org/downloads/">MinGW</a> 页面提供了一系列可用的编译件。我安装其中的 <a class="reference external" href="https://github.com/niXman/mingw-builds-binaries/releases">mingw-builds</a> 来使用 g++：</p>
<ul class="simple">
<li><p>使用 posix 线程库编译的版本以获得最佳的跨平台兼容性（而不是用 win32 线程库编译的版本）</p></li>
<li><p>使用 ucrt 运行时库版本以获得更好的支持。除非在 Windows 10 之前的操作系统上运行，否则不建议使用较旧的 msvcrt 编译版本。</p></li>
</ul>
<p>按照以上特性，我一般选择安装 <code class="docutils literal notranslate"><span class="pre">x86_64-release-posix-seh-ucrt</span></code> 编译版本。</p>
</li>
</ul>
<p>一些其他编译器：</p>
<ul class="simple">
<li><p><a class="reference external" href="https://releases.llvm.org/download.html">LLVM/Clang</a></p></li>
<li><p>Visual Studio/MSVC</p></li>
<li><p>Intel C++</p></li>
</ul>
</div>
<p>C++ 是一门编译型语言，需要将写有 C++ 代码的源文件通过编译器编译为可执行文件，然后才能执行。这与用诸如 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">hello_world.py</span></code> 通过解释器来执行代码的 Python 等解释性语言不同，对初学者而言可能繁琐一些。</p>
<p>C++ 的源文件一般以 <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> 或者 <code class="docutils literal notranslate"><span class="pre">.cc</span></code> 为扩展名。下面实现了一个基础的 Hello world 程序：</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">2</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">3</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">4</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">5</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>头文件：C++ 用 <code class="docutils literal notranslate"><span class="pre">#include</span></code> 指令来包含头文件。上例中的 <code class="docutils literal notranslate"><span class="pre">&lt;iostream&gt;</span></code> 表示调用 C++ 标准库中的 iostream 库。包含头文件的指令通常在源文件的开头。</p></li>
<li><p>主函数：C++ 中必须要有一个名为 <code class="docutils literal notranslate"><span class="pre">main</span></code> 的主函数，该主函数必须为 <code class="docutils literal notranslate"><span class="pre">int</span></code> 类型。</p>
<ul>
<li><p>主函数可以不包含任何形参，比如上例中的 <code class="docutils literal notranslate"><span class="pre">main()</span></code> 。</p></li>
<li><p>主函数一般以返回 0 （例中 <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">0</span></code> ）表示程序运行正常、返回非零值表示程序运行异常。</p></li>
</ul>
</li>
<li><p>输出： <code class="docutils literal notranslate"><span class="pre">std::cout</span></code> 表示调用命名空间 <code class="docutils literal notranslate"><span class="pre">std</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">cout</span></code> 对象，它代表标准输出； <code class="docutils literal notranslate"><span class="pre">std::endl</span></code> 表示行末。</p>
<ul>
<li><p>输出运算符 <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> 作用是将右侧的值写入到左侧的 ostream 对象，并返回左侧的对象；因此，输出运算符可以如上例一样连用。</p></li>
</ul>
</li>
</ul>
<p>将上述代码保存为 <code class="docutils literal notranslate"><span class="pre">hello_world.cpp</span></code> 文件，并用编译器编译它。这里以 g++ 为例：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">g++ hello_world.cpp</span>
</pre></div>
</div>
<p>该命令会将 C++ 代码文件编译为同名的可执行文件。在 Windows 上，即为 <code class="docutils literal notranslate"><span class="pre">hello_world.exe</span></code> 。用户可以从命令行运行该文件：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./hello_world.exe</span>
</pre></div>
</div>
<p>在命令行输出中，我们可以看到： <code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">world</span></code> ，这表示我们的程序如预期地成功运行了。</p>
</section>
<section id="io">
<h2>输入输出（IO）流<a class="headerlink" href="#io" title="Link to this heading"></a></h2>
<p>iostream 库包含输入流 <code class="docutils literal notranslate"><span class="pre">istream</span></code> 与输出流 <code class="docutils literal notranslate"><span class="pre">ostream</span></code> 两种类型。标准库在此基础上定义：</p>
<ul class="simple">
<li><p>输入流对象：与输入运算符 <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> 结合使用。运算符左侧是 istream 对象，右侧为值。</p>
<ul>
<li><p><strong>标准输入</strong> <code class="docutils literal notranslate"><span class="pre">std::cin</span></code></p></li>
</ul>
</li>
<li><p>输出流对象：与输出运算符 <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> 结合使用。运算符左侧是 ostream 对象，右侧为值。</p>
<ul>
<li><p><strong>标准输出</strong> <code class="docutils literal notranslate"><span class="pre">std::cout</span></code></p></li>
<li><p><strong>标准错误</strong> <code class="docutils literal notranslate"><span class="pre">std::cerr</span></code></p></li>
<li><p><strong>其他输出信息</strong> <code class="docutils literal notranslate"><span class="pre">std::clog</span></code></p></li>
</ul>
</li>
<li><p><strong>操纵符</strong> <code class="docutils literal notranslate"><span class="pre">std::endl</span></code>：刷新缓冲区。即结束当前行，并将缓冲区内容写入到输出。</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">输入、输出运算符均是左结合的</p>
<p>尽管输入、输出运算符看起来指向不同的方向，但实际上它们都是左结合的，这保证了连续运算的合法性。例如：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">std::cin</span> <span class="pre">&gt;&gt;</span> <span class="pre">x</span> <span class="pre">&gt;&gt;</span> <span class="pre">y;</span></code> 表示先读取输入流到 x，并返回 istream 对象；然后对返回的对象执行第二个操作，即读取输入流到 y。它等价于 <code class="docutils literal notranslate"><span class="pre">(cin</span> <span class="pre">&gt;&gt;</span> <span class="pre">x)</span> <span class="pre">&gt;&gt;</span> <span class="pre">y;</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">std::cout</span> <span class="pre">&lt;&lt;</span> <span class="pre">'a'</span> <span class="pre">&lt;&lt;</span> <span class="pre">std::endl;</span></code> 表示先将字符 <code class="docutils literal notranslate"><span class="pre">'a'</span></code> 写到输出流，并返回一个 ostream 对象；然后再将 <code class="docutils literal notranslate"><span class="pre">std::endl</span></code> 写入到该对象上。</p></li>
</ul>
<p>请仔细体会运算符的特性。</p>
</div>
</section>
<section id="using">
<h2>using 声明<a class="headerlink" href="#using" title="Link to this heading"></a></h2>
<p>C++ 标准库（命名空间为 <code class="docutils literal notranslate"><span class="pre">std</span></code>）中定义了许多实用的库函数，比如输出函数 <code class="docutils literal notranslate"><span class="pre">std::cout</span></code>。使用 using 声明，我们可以免于在每次使用库函数时添加 <code class="docutils literal notranslate"><span class="pre">std::</span></code> 前缀。例如：</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">2</span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span><span class="w">  </span><span class="c1">// 每条 using 声明只能对应一个库函数</span>
<span class="linenos">3</span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">6</span><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">7</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">8</span><span class="p">}</span>
</pre></div>
</div>
<div class="warning admonition">
<p class="admonition-title">不推荐的写法：using name std;</p>
<p>有的地方也会提到 <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">std;</span></code> 这种写法。但一般来说，这不是一个好的实践方式。因为这种操作是盲目的，除非你了解 std 中的所有库函数名称。这种贪心的行为就好比在 Python 中使用 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">lib</span> <span class="pre">import</span> <span class="pre">*</span></code>。</p>
</div>
<p>为了方便起见，下文中大多会采用 using 声明，而不是在每次使用时添加命名空间前缀。在给出代码片段时，有时为了简洁，using 声明可能会在展示中被省略。</p>
</section>
<section id="ub">
<span id="undefined"></span><h2>未定义行为（UB）<a class="headerlink" href="#ub" title="Link to this heading"></a></h2>
<p>C++ 中的未定义行为（undefined behavior, UB）会导致不可预知的后果。程序可能继续工作，可能异常终止，也可能得到垃圾数据。例如，除数为 0 、索引超界都是未定义行为。</p>
<p>下例给出一个索引超界的未定义行为例子：</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos"> 2</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="linenos"> 3</span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8</span><span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;s.size() = &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">10</span><span class="w">    </span><span class="c1">// 未定义行为，因为 s 的合法索引是从 0 到 2</span>
<span class="linenos">11</span><span class="w">    </span><span class="c1">// 字符串 s 合法索引 i 应满足 0 &lt;= i &lt; s.size()</span>
<span class="linenos">12</span><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;s[3] = &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">13</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14</span><span class="p">}</span>
<span class="linenos">15</span><span class="cm">/* （以上未定义行为在我测试时的）输出：</span>
<span class="linenos">16</span><span class="cm">   s.size() = 3</span>
<span class="linenos">17</span><span class="cm">   s[3] = </span>
<span class="linenos">18</span><span class="cm">*/</span>
</pre></div>
</div>
<p>由于未定义行为在不同环境中编译、运行可能产生不同结果，你的结果可能与我不同。</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="Install.html" class="btn btn-neutral float-left" title="安装 C++ 环境" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Variables.html" class="btn btn-neutral float-right" title="变量基础" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 wklchris。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

<div class="footer">本页面采用 <a href="https://analytics.google.com/">Google Analytics</a> 来记录访问数据. 您可以通过屏蔽来自 www.google-analytics.com 的 JavaScript 来阻止该记录行为.
<script>
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>



</body>
</html>